<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    ‏    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    ‏    <title>تقييم التطبيق</title>
    ‏    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    ‏    <style>
    ‏        :root {
    ‏            --primary-color: #28a745; /* تغيير اللون الأساسي إلى أخضر */
    ‏            --secondary-color: #218838;
    ‏            --star-color: #ffc107;
    ‏            --text-color: #333;
    ‏            --light-bg: #f8f9fa;
    ‏            --border-radius: 12px;
    ‏            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    ‏        }
    ‏        
    ‏        * {
    ‏            box-sizing: border-box;
    ‏            margin: 0;
    ‏            padding: 0;
    ‏            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    ‏        }
    ‏        
    ‏        body {
    ‏            background-color: var(--light-bg);
    ‏            color: var(--text-color);
    ‏            line-height: 1.6;
    ‏            padding: 20px;
    ‏            min-height: 100vh;
    ‏            display: flex;
    ‏            flex-direction: column;
    ‏            align-items: center;
    ‏        }
    ‏        
    ‏        .container {
    ‏            max-width: 800px;
    ‏            width: 100%;
    ‏            background-color: white;
    ‏            border-radius: var(--border-radius);
    ‏            box-shadow: var(--box-shadow);
    ‏            padding: 30px;
    ‏            margin-top: 30px;
    ‏        }
    ‏        
    ‏        header {
    ‏            text-align: center;
    ‏            margin-bottom: 30px;
    ‏        }
    ‏        
    ‏        header h1 {
    ‏            color: var(--primary-color);
    ‏            margin-bottom: 10px;
    ‏        }
    ‏        
    ‏        .app-info {
    ‏            display: flex;
    ‏            align-items: center;
    ‏            gap: 20px;
    ‏            margin-bottom: 30px;
    ‏            padding-bottom: 20px;
    ‏            border-bottom: 1px solid #eee;
    ‏        }
    ‏        
    ‏        .app-icon {
    ‏            width: 80px;
    ‏            height: 80px;
    ‏            background-color: var(--primary-color);
    ‏            border-radius: 20px;
    ‏            display: flex;
    ‏            align-items: center;
    ‏            justify-content: center;
    ‏            color: white;
    ‏            font-size: 30px;
    ‏        }
    ‏        
    ‏        .app-details h2 {
    ‏            margin-bottom: 5px;
    ‏        }
    ‏        
    ‏        .app-details p {
    ‏            color: #666;
    ‏        }
    ‏        
    ‏        .rating-section {
    ‏            text-align: center;
    ‏            margin-bottom: 30px;
    ‏        }
    ‏        
    ‏        .rating-title {
    ‏            font-size: 1.2rem;
    ‏            margin-bottom: 15px;
    ‏        }
    ‏        
    ‏        .stars {
    ‏            display: flex;
    ‏            justify-content: center;
    ‏            gap: 5px;
    ‏            margin-bottom: 20px;
    ‏            direction: ltr;
    ‏        }
    ‏        
    ‏        .star {
    ‏            font-size: 30px;
    ‏            color: #ddd;
    ‏            cursor: pointer;
    ‏            transition: color 0.2s;
    ‏        }
    ‏        
    ‏        .star:hover, .star.active {
    ‏            color: var(--star-color);
    ‏        }
    ‏        
    ‏        .submit-rating {
    ‏            background-color: var(--primary-color);
    ‏            color: white;
    ‏            border: none;
    ‏            padding: 10px 20px;
    ‏            border-radius: var(--border-radius);
    ‏            cursor: pointer;
    ‏            font-size: 1rem;
    ‏            transition: background-color 0.3s;
    ‏        }
    ‏        
    ‏        .submit-rating:hover {
    ‏            background-color: var(--secondary-color);
    ‏        }
    ‏        
    ‏        .rating-stats {
    ‏            display: flex;
    ‏            justify-content: space-around;
    ‏            margin-top: 30px;
    ‏            padding-top: 20px;
    ‏            border-top: 1px solid #eee;
    ‏        }
    ‏        
    ‏        .stat-box {
    ‏            text-align: center;
    ‏            padding: 15px;
    ‏            background-color: var(--light-bg);
    ‏            border-radius: var(--border-radius);
    ‏            min-width: 120px;
    ‏        }
    ‏        
    ‏        .stat-value {
    ‏            font-size: 1.8rem;
    ‏            font-weight: bold;
    ‏            color: var(--primary-color);
    ‏        }
    ‏        
    ‏        .stat-label {
    ‏            color: #666;
    ‏            font-size: 0.9rem;
    ‏        }
    ‏        
    ‏        .recent-ratings {
    ‏            margin-top: 30px;
    ‏        }
    ‏        
    ‏        .recent-ratings h3 {
    ‏            margin-bottom: 15px;
    ‏            padding-bottom: 10px;
    ‏            border-bottom: 1px solid #eee;
    ‏        }
    ‏        
    ‏        .ratings-list {
    ‏            max-height: 300px;
    ‏            overflow-y: auto;
    ‏        }
    ‏        
    ‏        .rating-item {
    ‏            display: flex;
    ‏            align-items: center;
    ‏            gap: 10px;
    ‏            padding: 10px;
    ‏            border-bottom: 1px solid #f0f0f0;
    ‏        }
    ‏        
    ‏        .rating-stars {
    ‏            direction: ltr;
    ‏            color: var(--star-color);
    ‏        }
    ‏        
    ‏        .rating-date {
    ‏            color: #999;
    ‏            font-size: 0.8rem;
    ‏            margin-right: auto; /* تغيير من margin-left إلى margin-right للتوافق مع RTL */
    ‏        }
    ‏        
    ‏        .no-ratings {
    ‏            text-align: center;
    ‏            color: #666;
    ‏            padding: 20px;
    ‏        }
    ‏        
    ‏        @media (max-width: 600px) {
    ‏            .container {
    ‏                padding: 20px;
    ‏            }
    ‏            
    ‏            .app-info {
    ‏                flex-direction: column;
    ‏                text-align: center;
    ‏            }
    ‏            
    ‏            .rating-stats {
    ‏                flex-direction: column;
    ‏                gap: 15px;
    ‏            }
    ‏            
    ‏            .stat-box {
    ‏                width: 100%;
    ‏            }
    ‏        }
    ‏    </style>
    ‏</head>
    ‏<body>
    ‏    <div class="container">
    ‏        <header>
    ‏            <h1>تقييم التطبيق</h1>
    ‏            <p>شاركنا رأيك في تطبيقنا</p>
    ‏        </header>
    ‏        
    ‏        <div class="app-info">
    ‏            <div class="app-icon">
    ‏                <i class="fas fa-mobile-alt"></i>
    ‏            </div>
    ‏            <div class="app-details">
    ‏                <h2>économie app </h2>
    ‏                <p>الإصدار 1.12.6</p>
    ‏            </div>
    ‏        </div>
    ‏        
    ‏        <div class="rating-section">
    ‏            <h3 class="rating-title">كيف تقيم هذا التطبيق؟</h3>
    ‏            <div class="stars" id="stars">
    ‏                <i class="far fa-star star" data-rating="1"></i>
    ‏                <i class="far fa-star star" data-rating="2"></i>
    ‏                <i class="far fa-star star" data-rating="3"></i>
    ‏                <i class="far fa-star star" data-rating="4"></i>
    ‏                <i class="far fa-star star" data-rating="5"></i>
    ‏            </div>
    ‏            <button class="submit-rating" id="submitRating">إرسال التقييم</button>
    ‏        </div>
    ‏        
    ‏        <div class="rating-stats">
    ‏            <div class="stat-box">
    ‏                <div class="stat-value" id="averageRating">0.0</div>
    ‏                <div class="stat-label">متوسط التقييم</div>
    ‏            </div>
    ‏            <div class="stat-box">
    ‏                <div class="stat-value" id="totalRatings">0</div>
    ‏                <div class="stat-label">عدد التقييمات</div>
    ‏            </div>
    ‏        </div>
    ‏        
    ‏        <div class="recent-ratings">
    ‏            <h3>آخر التقييمات</h3>
    ‏            <div class="ratings-list" id="ratingsList">
    ‏                <div class="no-ratings">لا توجد تقييمات بعد</div>
    ‏            </div>
    ‏        </div>
    ‏    </div>
    <script>
    ‏        // بيانات التقييمات (سيتم تخزينها في localStorage)
    ‏        let ratings = JSON.parse(localStorage.getItem('appRatings')) || [];
    ‏        let selectedRating = 0;
        // عناصر DOM
        ‏        const stars = document.querySelectorAll('.star');
        ‏        const submitBtn = document.getElementById('submitRating');
        ‏        const averageRatingEl = document.getElementById('averageRating');
        ‏        const totalRatingsEl = document.getElementById('totalRatings');
        ‏        const ratingsListEl = document.getElementById('ratingsList');
        // تحديث الإحصائيات
        ‏        function updateStats() {
        ‏            const total = ratings.length;
        ‏            const average = total > 0 ? 
        ‏                (ratings.reduce((sum, rating) => sum + rating.value, 0) / total : 0;
        ‏            
        ‏            totalRatingsEl.textContent = total;
        ‏            averageRatingEl.textContent = average.toFixed(1);
        ‏            
        ‏            updateRatingsList();
        ‏        }
        // تحديث قائمة التقييمات الأخيرة
        ‏        function updateRatingsList() {
        ‏            ratingsListEl.innerHTML = '';
        ‏            
        ‏            if (ratings.length === 0) {
        ‏                ratingsListEl.innerHTML = '<div class="no-ratings">لا توجد تقييمات بعد</div>';
        ‏                return;
        ‏            }
        ‏            
        ‏            // إنشاء عنصر div جديد لقائمة التقييمات
        ‏            const listContainer = document.createElement('div');
        ‏            listContainer.className = 'ratings-list';
        ‏            
        ‏            // عرض آخر 5 تقييمات (من الأحدث إلى الأقدم)
        ‏            const recentRatings = [...ratings].reverse().slice(0, 5);
        ‏            
        ‏            recentRatings.forEach(rating => {
        ‏                const ratingItem = document.createElement('div');
        ‏                ratingItem.className = 'rating-item';
        ‏                
        ‏                const stars = document.createElement('div');
        ‏                stars.className = 'rating-stars';
        ‏                
        ‏                // إضافة النجوم حسب التقييم
        ‏                for (let i = 1; i <= 5; i++) {
        ‏                    const star = document.createElement('i');
        ‏                    star.className = i <= rating.value ? 'fas fa-star' : 'far fa-star';
        ‏                    stars.appendChild(star);
        ‏                }
        ‏                
        ‏                const date = document.createElement('div');
        ‏                date.className = 'rating-date';
        ‏                date.textContent = new Date(rating.date).toLocaleDateString('ar-EG');
        ‏                
        ‏                ratingItem.appendChild(stars);
        ‏                ratingItem.appendChild(date);
        ‏                listContainer.appendChild(ratingItem);
        ‏            });
        ‏            
        ‏            ratingsListEl.appendChild(listContainer);
        ‏        }
        // اختيار النجوم
        ‏        stars.forEach(star => {
        ‏            star.addEventListener('click', () => {
        ‏                selectedRating = parseInt(star.getAttribute('data-rating'));
        ‏                
        ‏                stars.forEach((s, index) => {
        ‏                    if (index < selectedRating) {
        ‏                        s.classList.add('active');
        ‏                        s.classList.remove('far');
        ‏                        s.classList.add('fas');
        ‏                    } else {
        ‏                        s.classList.remove('active');
        ‏                        s.classList.remove('fas');
        ‏                        s.classList.add('far');
        ‏                    }
        ‏                });
        ‏            });
        ‏        });
        // إرسال التقييم
        ‏        submitBtn.addEventListener('click', () => {
        ‏            if (selectedRating === 0) {
        ‏                alert('الرجاء اختيار عدد النجوم أولاً');
        ‏                return;
        ‏            }
        ‏            
        ‏            const newRating = {
        ‏                value: selectedRating,
        ‏                date: new Date().toISOString()
        ‏            };
        ‏            
        ‏            ratings.push(newRating);
        ‏            localStorage.setItem('appRatings', JSON.stringify(ratings));
        ‏            
        ‏            // إعادة تعيين النجوم إلى حالة فارغة
        ‏            stars.forEach(star => {
        ‏                star.classList.remove('active');
        ‏                star.classList.remove('fas');
        ‏                star.classList.add('far');
        ‏            });
        ‏            
        ‏            selectedRating = 0;
        ‏            updateStats();
        ‏            alert('شكراً لتقييمك!');
        ‏        });
        // تهيئة الصفحة
        ‏        document.addEventListener('DOMContentLoaded', () => {
        ‏            updateStats();
        ‏            
        ‏            // إبقاء النجوم فارغة عند التحميل (كما طلبت)
        ‏            stars.forEach(star => {
        ‏                star.classList.add('far');
        ‏            });
        ‏        });
        ‏    </script>
        ‏</body>
        ‏</html>